<!--DATE:2012-07-26 -->
<!--TITLE:Виртуализация браузеров или как запустить несколько версий Internet Explorer -->
<h1>Виртуализация браузеров или как запустить несколько версий Internet Explorer</h1>
<p><em>По мотивам доклада &laquo;<a href="http://clubs.ya.ru/yasubbotnik/replies.xml?item_no=398" target="_blank">Современный станок верстальщика</a>&raquo;</em></p>

<p>
  Давно пора свыкнуться с мыслью, что некоторые вещи в этом мире нельзя изменить. Одна из таких вещей &mdash; зоопарк браузеров, который встречается при поддержке проектов. Странная тенденция: есть стандарты и спецификации, но с каждым годом браузеров становиться всё больше. Может дело в инертности пользователей, может в вендорах, которые только сейчас задумались над автообновлением своих продуктов. Но по словам Яндекса картина на май 2012 выглядит так:
</p>
<figure>
  <img src="http://i.imgur.com/r3G6R.png" style="display:block;margin:.5em auto">
  <figcaption>Добавляем надавно вышедшие Chrome 19/20, Firefox 13/14 и Opera 12.00 &mdash; получаем 28 браузеров</figcaption>
</figure>
<p>
  Мы не Яндекс, поэтому нет необходимости смотреть на несвежие версии Chrome/Firefox/Opera в виду отсутствие сил и времени, но от этого сильно легче не становится: Chrome&nbsp;20, IE&nbsp;6–9, Firefox&nbsp;14, Opera&nbsp;12. Итого <b>7&nbsp;браузеров</b>, каждый из которых в какой-то мера надо поддерживать. Опыт использование IETester и подобных программ для запуска разных версии Internet Explorer крайне отрицательный, не один раз наступал на разваливающуюся верстку в IETester в режиме IE&nbsp;7, однако в самом Internet Explorer&nbsp; всё было в порядке. Поэтому для проверки верстки использую непосредственно нужный браузер, а не его эмуляцию.
</p>
<p>
  Можно по-разному организовать виртуализацию IE. Например, две виртуальныe машины: в первой Windows&nbsp;XP и через Snapshot сохранены состояния, когда был установлен IE&nbsp;6, IE&nbsp;7 и IE&nbsp;8; а во второй виртуальной машине Windows&nbsp;7 для IE&nbsp;9. Плюсы &mdash; экономия места, достаточно легко просто переключиться, хотя в Parallel Desktop переключение между контрольными точками не происходит мгновенно. Минус не очевиден, но очень важен: нельзя изменять что-то в виртуальной машине, при переключении на другую версию браузера (контрольную точку) будут произведен полный откат всех изменений, т.е. нельзя установить сниффер, внести новую запись в hosts или изменить параметры сети. Машина с IE&nbsp;6–8 находится в замороженном состоянии и не подлежит изменению. Второй вариант &mdash; каждый браузер (Internet Explorer) в отдельной виртуальной машине. Плюс: виртуальная машина находится не в замороженном состоянии. Минусы: минимум четыре виртуальные машины, одновременная проверка в двух версиях IE &mdash; невероятно затратно.
</p>
<p>
  Еще один вариант &mdash; <i>портативные версии</i> нужных браузеров. В Яндексе для виртуализации приложений используют Novell ZENWorks Application Virtualisation, я воспользовался VMWare ThinApp. Процесс долгий, но понятный: берём Windows&nbsp;XP&nbsp;SP2 витуализируем IE&nbsp;6. Ставим Service Pack&nbsp;3, вместе с ним получаем IE&nbsp;7, виртуализируем его. Устанавливаем все доступные обновления из Windows Update, еще один раз запускаем VMWare ThinApp и виртуализируем IE&nbsp;8. Не всё получилось с первого раза, особенно IE&nbsp;9 не хотел поддаваться и зависал при попытках открыть любую страницу. Но результат того стоит &mdash; <b>одна виртуальная машина со всеми нужными браузерами</b>.
</p>
<div class="clearfix">
  <a href="http://i.imgur.com/Szfdz.jpg" target="_blank">
    <figure style="width:49%;float:left">
      <img src="http://i.imgur.com/Szfdz.jpg" style="">
      <figcaption>Все стабильные версии Internet Explorer</figcaption>
    </figure>
  </a>
  <a href="http://i.imgur.com/GfCll.jpg" target="_blank" class="clearfix">
    <figure style="width:49%;float:right">
      <img src="http://i.imgur.com/GfCll.jpg" style="">
      <figcaption>Полный зоопарк</figcaption>
    </figure>
  </a>
</div>
<h3>Ссылки на портативные версии браузеров</h3>
<ol>
  <li><a href="http://goo.gl/pYDDs" target="_blank">Chrome 20.0.1132.57</a></li>
  <li><a href="http://goo.gl/UeAk8" target="_blank">Internet Explorer 6</a></li>
  <li><a href="http://goo.gl/28Hw0" target="_blank">Internet Explorer 7</a></li>
  <li><a href="http://goo.gl/sI8by" target="_blank">Internet Explorer 8</a></li>
  <li><a href="http://goo.gl/NHvcZ" target="_blank">Internet Explorer 9</a></li>
  <li><a href="http://goo.gl/BGpDg" target="_blank">Mozilla Firefox 14.0.1</a></li>
  <li><a href="http://goo.gl/gH68X" target="_blank">Opera 12.00</a></li>
</ol>